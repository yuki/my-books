\chapter{Instalar dependencias}

Laravel tenía soporte nativo de Bootstrap, pero decidió sustituirlo por \href{https://tailwindcss.com/}{Tailwind}. Eso no quita que podamos usar Bootstrap, pero necesitaremos realizar la instalación de dependencias.

\begin{mycode}{Para usar Bootstrap con Laravel}{console}{}
root@1b29e46c10ae:/var/www/html# composer require laravel/ui --dev
root@1b29e46c10ae:/var/www/html# php artisan ui bootstrap --auth
root@1b29e46c10ae:/var/www/html# npm install
root@1b29e46c10ae:/var/www/html# npm run build
\end{mycode}

A continuación se detalla qué hace cada comando:
\begin{itemize}
    \item \commandbox{composer require laravel/ui --dev}: \href{https://getcomposer.org/}{Composer} es el gestor de dependencias utilizado por PHP. Lo que se está indicando es que se necesita como dependencia el paquete “laravel/ui” durante el desarrollo.
    \item \commandbox{php artisan ui bootstrap --auth}: Se indica qué \textit{framework} para el interfaz se va a utilizar. Aparte, con el parámetro “--auth” se le indica que genera las plantillas para la autenticación.
    \item \commandbox{npm install}: instala las dependencias indicadas en el primer comando.
    \item \commandbox{npm run build}: ejecuta la acción “build” indicada en el fichero \configfile{package.json}. En este caso “compila” los javascripts y los css que se van a utilizar.
\end{itemize}

De esta manera no sólo hemos instalado las dependencias necesarias para hacer uso de Bootstrap, si no que también nos ha generado unas vistas para el sistema de autenticación en \configdir{resources/views/auth} y una plantilla general para la aplicación.


\chapter{Plantilla general}

Anteriormente se ha mencionado que Blade es un sistema de plantillas para Laravel. Esto significa que es capaz de generar unos componentes de vistas que a su vez incorporan otras vistas, de esta manera generando plantillas que se pueden reutilizar ahorrando código y simplificando la aplicación.

Con lo realizado previamente se ha generado una plantilla general en el fichero \configfile{resources/views/layouts/app.blade.php}, que se puede dividir en dos apartados:

\begin{itemize}
    \item \textbf{Cabecera “nav”}: es la cabecera de la aplicación. Aparece el nombre de la aplicación y a la derecha tiene enlaces para hacer login o registrarse en la aplicación con el sistema de autenticación.

    \item \inlineconsole{@yield('content')}: este apartado será sustituido por la vista desde la que se llame a esta plantilla.
\end{itemize}

De esta manera, en todas las vistas de la aplicación que llamemos a la plantilla, no tendremos que escribir el código de la cabecera. Lógicamente, \textbf{es posible añadir nuevos apartados a esta vista} para cumplir con el objetivo final de la aplicación.

\section{Cómo usar la plantilla}

Para poder hacer uso de la plantilla, debemos indicarlo en las correspondientes vistas. Como ejemplo, se va a utilizar la vista creada en el capítulo anterior, la que muestra por pantalla los \textit{posts} del blog.

La vista modificada quedaría:

\begin{mycode}{Vista “show.blade.php” modificada usando la plantilla}{html+smarty}{}
@extends('layouts.app')

@section('content')
<div class="container">
  <h1>{{$post->titulo}}</h1>
  <p>Creado el {{$post->created_at}}</p>
  <p>{{$post->texto}}</p>
</div>
@endsection
\end{mycode}

Tal como se puede ver, lo primero que se indica es que esta vista “extiende” de la plantilla correspondiente. Posteriormente, lo que se hace es indicar una sección de la plantilla que va a ser sustituida por el contenido que aparece entre “@section” y “@endsection”.


\chapter{Modificación de rutas}
Aparte de lo visto hasta ahora, por haber activado el sistema de autenticación, se nos han generado nuevas rutas. Estas rutas las podemos ver a través del siguiente comando, o mirando el fichero de rutas:

\begin{mycode}{Mirando todas las rutas creadas}{console}{}
root@1b29e46c10ae:/var/www/html# php artisan route:list
\end{mycode}
